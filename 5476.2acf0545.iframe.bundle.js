"use strict";(self.webpackChunk_rosalind_rosalind_template=self.webpackChunk_rosalind_rosalind_template||[]).push([[5476],{"./blocks/tabs/tabs.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>decorate});var _scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./scripts/scripts.js");const scrollTabIntoView=e=>{(targetEl=>{const rect=targetEl.getBoundingClientRect(),docEl=document.documentElement;return rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||docEl.clientHeight)&&rect.right<=(window.innerWidth||docEl.clientWidth)})(e)||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})};function changeTabs(e){const{target}=e,parent=target.parentNode,grandparent=parent.parentNode.nextElementSibling;parent.querySelectorAll('[aria-selected="true"]').forEach((t=>t.setAttribute("aria-selected",!1))),target.setAttribute("aria-selected",!0),scrollTabIntoView(target),grandparent.querySelectorAll('[role="tabpanel"]').forEach((p=>p.setAttribute("hidden",!0))),grandparent.parentNode.querySelector(`#${target.getAttribute("aria-controls")}`).removeAttribute("hidden")}function getStringKeyName(str){return str.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^\p{L}\p{N}_-]/gu,"")}function initTabs(elm,config,rootElem){const tabs=elm.querySelectorAll('[role="tab"]');elm.querySelectorAll('[role="tablist"]').forEach((tabList=>{let tabFocus=0;tabList.addEventListener("keydown",(e=>{"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||("ArrowRight"===e.key?(tabFocus+=1,tabFocus>=tabs.length&&(tabFocus=0)):"ArrowLeft"===e.key&&(tabFocus-=1,tabFocus<0&&(tabFocus=tabs.length-1)),tabs[tabFocus].setAttribute("tabindex",0),tabs[tabFocus].focus())}))})),tabs.forEach((tab=>{tab.addEventListener("click",changeTabs)})),config&&function configTabs(config,rootElem){const defaultActiveConfig=config["active-tab"],activeTab=defaultActiveConfig&&`#tab-${CSS.escape(config["tab-id"])}-${CSS.escape(getStringKeyName(defaultActiveConfig))}`,{hash}=window.location;if(hash){const selectedTab=rootElem.querySelector(hash);selectedTab&&selectedTab.click()}else if(activeTab){const selectedTab=rootElem.querySelector(activeTab);selectedTab&&selectedTab.click()}}(config,rootElem)}const handleDeferredImages=block=>{document.addEventListener("milo:deferred",(()=>{block.querySelectorAll('img[loading="lazy"]').forEach((img=>{img.removeAttribute("loading")}))}),{once:!0,capture:!0})};function decorate(block){const rootElem=block.closest(".fragment")||document,rows=block.querySelectorAll(":scope > div"),parentSection=block.closest(".section");if(!rows.length)return;const config={},configRows=[...rows];configRows.splice(0,1),configRows.forEach((row=>{const rowKey=getStringKeyName(row.children[0].textContent),rowVal=row.children[1].textContent.trim();config[rowKey]=rowVal,row.remove()}));const tabId=config.id||function getUniqueId(el,rootElem){return[...rootElem.querySelectorAll(".tabs")].indexOf(el)+1}(block,rootElem);config["tab-id"]=tabId,block.id=`tabs-${tabId}`,parentSection?.classList.add(`tablist-${tabId}-section`);const tabContentContainer=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("div",{class:"tab-content-container"}),tabContent=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("div",{class:"tab-content"},tabContentContainer);block.append(tabContent);const tabList=rows[0];tabList.classList.add("tabList"),tabList.setAttribute("role","tablist");const tabListContainer=tabList.querySelector(":scope > div");tabListContainer.classList.add("tab-list-container");const tabListItems=rows[0].querySelectorAll(":scope li");if(tabListItems){const{hash}=window.location,btnClass=([...block.classList].includes("quiet"),"heading-xs"),select=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("select");tabListItems.forEach(((item,i)=>{const tabName=config.id?i+1:getStringKeyName(item.textContent),tabIdString=`tab-${tabId}-${tabName}`,tabPanelId=`tab-panel-${tabId}-${tabName}`,selected=hash===`#${tabIdString}`||0===i&&!hash,tabBtnAttributes={role:"tab",class:btnClass,id:tabIdString,tabindex:"0","aria-selected":selected,"aria-controls":tabPanelId},tabBtn=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("button",tabBtnAttributes);tabBtn.classList.add("button"),tabBtn.innerText=item.textContent;const hr=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("hr");tabBtn.append(hr),tabListContainer.append(tabBtn);const tabContentAttributes={id:tabPanelId,role:"tabpanel",class:"tabpanel",tabindex:"0","aria-labelledby":`tab-${tabId}-${tabName}`},tabListContent=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("div",tabContentAttributes);tabListContent.setAttribute("aria-labelledby",`tab-${tabId}-${tabName}`),i>0&&tabListContent.setAttribute("hidden",""),tabContentContainer.append(tabListContent);const option=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("option",{value:`tab-panel-${tabId}-${tabName}`});option.textContent=item.textContent,select.append(option),selected&&(select.value=tabPanelId)}));const selectContainer=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("div",{class:"select"});select.addEventListener("change",(e=>{const selected=e.target.value;document.querySelectorAll('[aria-selected="true"]').forEach((t=>t.setAttribute("aria-selected",!1)));document.querySelector(`[aria-controls=${selected}`).setAttribute("aria-selected",!0),document.querySelectorAll('[role="tabpanel"]:not([hidden])').forEach((t=>t.setAttribute("hidden",!0))),document.querySelectorAll(`#${selected}`).forEach((t=>t.removeAttribute("hidden")))})),selectContainer.append(select),tabListContainer.append(selectContainer),tabListItems[0].parentElement.remove()}Array.from(rootElem.querySelectorAll("div.section")).forEach((e=>{const tabData=e.getAttribute("data-tab");if(tabData){const dataArr=tabData.split(", "),[tabItemId,tabItemIndex]=dataArr;if(!tabItemId||!tabItemIndex)return;e.removeAttribute("style"),e.setAttribute("data-section-status","loaded");const assocTabItem=rootElem.querySelector(`#tab-panel-${tabItemId}-${tabItemIndex}`);assocTabItem&&assocTabItem.append(e)}})),handleDeferredImages(block),initTabs(block,config,rootElem)}}}]);