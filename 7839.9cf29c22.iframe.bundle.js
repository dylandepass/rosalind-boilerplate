"use strict";(self.webpackChunk_rosalind_rosalind_template=self.webpackChunk_rosalind_rosalind_template||[]).push([[7839,1769],{"./blocks/library-config/library-utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function createCopy(blob){const data=[new ClipboardItem({[blob.type]:blob})];navigator.clipboard.write(data)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>createCopy})},"./blocks/library-config/lists/blocks.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>loadBlocks});var _scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./scripts/scripts.js"),_library_utils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./blocks/library-config/library-utils.js");function getBlockName(block){const classes=block.className.split(" "),name=classes.shift();return classes.length>0?`${name} (${classes.join(", ")})`:name}async function loadBlocks(blocks,list){blocks.forEach((async block=>{const titleText=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("p",{class:"item-title"},block.name),title=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("li",{class:"block-group"},titleText),previewButton=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("button",{class:"preview-group"},"Preview");title.append(previewButton),list.append(title);const blockList=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("ul",{class:"block-group-list"});list.append(blockList),title.addEventListener("click",(()=>{title.classList.toggle("is-open")})),previewButton.addEventListener("click",(e=>{e.stopPropagation(),window.open(block.path,"_blockpreview")}));const resp=await fetch(`${block.path}.plain.html`);if(!resp.ok)return;const html=await resp.text();(new DOMParser).parseFromString(html,"text/html").body.querySelectorAll("div[class]").forEach((pageBlock=>{const item=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("li"),name=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("p");name.textContent=function getAuthorName(block){const blockSib=block.previousElementSibling;return blockSib&&["H2","H3"].includes(blockSib.nodeName)?blockSib.textContent:null}(pageBlock)||getBlockName(pageBlock);const copy=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("button");copy.addEventListener("click",(e=>{const table=function getTable(block,name,path){const url=new URL(path);block.querySelectorAll("img").forEach((img=>{const mediaPath=img.src.split("/").pop();img.src=`${url.origin}/${mediaPath}`;const{width,height}=img,ratio=width>200?200/width:1;img.width=width*ratio,img.height=height*ratio}));const rows=[...block.children],maxCols=rows.reduce(((cols,row)=>row.children.length>cols?row.children.length:cols),0),table=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("table");table.setAttribute("border",1);const headerRow=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("tr");return headerRow.append((0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("th",{colspan:maxCols},name)),table.append(headerRow),rows.forEach((row=>{const tr=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("tr");[...row.children].forEach((col=>{const td=(0,_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_0__.ln)("td");row.children.length<maxCols&&td.setAttribute("colspan",maxCols),td.innerHTML=col.innerHTML,tr.append(td)})),table.append(tr)})),table.outerHTML}(pageBlock,getBlockName(pageBlock),block.path);e.target.classList.add("copied"),setTimeout((()=>{e.target.classList.remove("copied")}),3e3);const blob=new Blob([table],{type:"text/html"});(0,_library_utils_js__WEBPACK_IMPORTED_MODULE_1__.default)(blob)})),item.append(name,copy),blockList.append(item)}))}))}}}]);