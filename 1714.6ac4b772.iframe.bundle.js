(self.webpackChunk_rosalind_rosalind_template=self.webpackChunk_rosalind_rosalind_template||[]).push([[1714],{"./scripts/aem.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function sampleRUM(checkpoint,data={}){sampleRUM.defer=sampleRUM.defer||[];const defer=fnname=>{sampleRUM[fnname]=sampleRUM[fnname]||((...args)=>sampleRUM.defer.push({fnname,args}))};sampleRUM.drain=sampleRUM.drain||((dfnname,fn)=>{sampleRUM[dfnname]=fn,sampleRUM.defer.filter((({fnname})=>dfnname===fnname)).forEach((({fnname,args})=>sampleRUM[fnname](...args)))}),sampleRUM.always=sampleRUM.always||[],sampleRUM.always.on=(chkpnt,fn)=>{sampleRUM.always[chkpnt]=fn},sampleRUM.on=(chkpnt,fn)=>{sampleRUM.cases[chkpnt]=fn},defer("observe"),defer("cwv");try{if(window.hlx=window.hlx||{},!window.hlx.rum){const weight="on"===new URLSearchParams(window.location.search).get("rum")?1:100,id=Array.from({length:75},((_,i)=>String.fromCharCode(48+i))).filter((a=>/\d|[A-Z]/i.test(a))).filter((()=>75*Math.random()>70)).join(""),random=Math.random(),isSelected=random*weight<1,firstReadTime=Date.now(),urlSanitizers={full:()=>window.location.href,origin:()=>window.location.origin,path:()=>window.location.href.replace(/\?.*$/,"")};window.hlx.rum={weight,id,random,isSelected,firstReadTime,sampleRUM,sanitizeURL:urlSanitizers[window.hlx.RUM_MASK_URL||"path"]}}const{weight,id,firstReadTime}=window.hlx.rum;if(window.hlx&&window.hlx.rum&&window.hlx.rum.isSelected){const knownProperties=["weight","id","referer","checkpoint","t","source","target","cwv","CLS","FID","LCP","INP"],sendPing=(pdata=data)=>{const body=JSON.stringify({weight,id,referer:window.hlx.rum.sanitizeURL(),checkpoint,t:Date.now()-firstReadTime,...data},knownProperties),url=`https://rum.hlx.page/.rum/${weight}`;navigator.sendBeacon(url,body),console.debug(`ping:${checkpoint}`,pdata)};sampleRUM.cases=sampleRUM.cases||{cwv:()=>sampleRUM.cwv(data)||!0,lazy:()=>{const script=document.createElement("script");return script.src="https://rum.hlx.page/.rum/@adobe/helix-rum-enhancer@^1/src/index.js",document.head.appendChild(script),!0}},sendPing(data),sampleRUM.cases[checkpoint]&&sampleRUM.cases[checkpoint]()}sampleRUM.always[checkpoint]&&sampleRUM.always[checkpoint](data)}catch(error){}}function toClassName(name){return"string"==typeof name?name.toLowerCase().replace(/[^0-9a-z]/gi,"-").replace(/-+/g,"-").replace(/^-|-$/g,""):""}function toCamelCase(name){return toClassName(name).replace(/-([a-z])/g,(g=>g[1].toUpperCase()))}async function loadCSS(href){return new Promise(((resolve,reject)=>{if(document.querySelector(`head > link[href="${href}"]`))resolve();else{const link=document.createElement("link");link.rel="stylesheet",link.href=href,link.onload=resolve,link.onerror=reject,document.head.append(link)}}))}function getMetadata(name,doc=document){const attr=name&&name.includes(":")?"property":"name";return[...doc.head.querySelectorAll(`meta[${attr}="${name}"]`)].map((m=>m.content)).join(", ")||""}function decorateTemplateAndTheme(){const addClasses=(element,classes)=>{classes.split(",").forEach((c=>{element.classList.add(toClassName(c.trim()))}))},template=getMetadata("template");template&&addClasses(document.body,template);const theme=getMetadata("theme");theme&&addClasses(document.body,theme)}function decorateSections(main){main.querySelectorAll(":scope > div").forEach((section=>{const wrappers=[];let defaultContent=!1;[...section.children].forEach((e=>{if("DIV"===e.tagName||!defaultContent){const wrapper=document.createElement("div");wrappers.push(wrapper),defaultContent="DIV"!==e.tagName,defaultContent&&wrapper.classList.add("default-content-wrapper")}wrappers[wrappers.length-1].append(e)})),wrappers.forEach((wrapper=>section.append(wrapper))),section.classList.add("section"),section.dataset.sectionStatus="initialized",section.style.display="none";const sectionMeta=section.querySelector("div.section-metadata");if(sectionMeta){const meta=function readBlockConfig(block){const config={};return block.querySelectorAll(":scope > div").forEach((row=>{if(row.children){const cols=[...row.children];if(cols[1]){const col=cols[1],name=toClassName(cols[0].textContent);let value="";if(col.querySelector("a")){const as=[...col.querySelectorAll("a")];value=1===as.length?as[0].href:as.map((a=>a.href))}else if(col.querySelector("img")){const imgs=[...col.querySelectorAll("img")];value=1===imgs.length?imgs[0].src:imgs.map((img=>img.src))}else if(col.querySelector("p")){const ps=[...col.querySelectorAll("p")];value=1===ps.length?ps[0].textContent:ps.map((p=>p.textContent))}else value=row.children[1].textContent;config[name]=value}}})),config}(sectionMeta);Object.keys(meta).forEach((key=>{if("style"===key){meta.style.split(",").map((style=>toClassName(style.trim()))).forEach((style=>section.classList.add(style)))}else section.dataset[toCamelCase(key)]=meta[key]})),sectionMeta.parentNode.remove()}}))}function updateSectionsStatus(main){const sections=[...main.querySelectorAll(":scope > div.section")];for(let i=0;i<sections.length;i+=1){const section=sections[i];if("loaded"!==section.dataset.sectionStatus){if(section.querySelector('.block[data-block-status="initialized"], .block[data-block-status="loading"]')){section.dataset.sectionStatus="loading";break}section.dataset.sectionStatus="loaded",section.style.display=null}}}function buildBlock(blockName,content){const table=Array.isArray(content)?content:[[content]],blockEl=document.createElement("div");return blockEl.classList.add(blockName),table.forEach((row=>{const rowEl=document.createElement("div");row.forEach((col=>{const colEl=document.createElement("div");(col.elems?col.elems:[col]).forEach((val=>{val&&("string"==typeof val?colEl.innerHTML+=val:colEl.appendChild(val))})),rowEl.appendChild(colEl)})),blockEl.appendChild(rowEl)})),blockEl}async function loadBlock(block){const status=block.dataset.blockStatus;if("loading"!==status&&"loaded"!==status){block.dataset.blockStatus="loading";const{blockName}=block.dataset;try{const cssLoaded=loadCSS(`${window.hlx.codeBasePath}/blocks/${blockName}/${blockName}.css`),decorationComplete=new Promise((resolve=>{(async()=>{try{const mod=await __webpack_require__("./scripts lazy recursive ^.*\\/blocks\\/.*\\/.*\\.js$")(`${window.hlx.codeBasePath}/blocks/${blockName}/${blockName}.js`);mod.default&&await mod.default(block)}catch(error){console.log(`failed to load module for ${blockName}`,error)}resolve()})()}));await Promise.all([cssLoaded,decorationComplete])}catch(error){console.log(`failed to load block ${blockName}`,error)}block.dataset.blockStatus="loaded"}return block}async function loadBlocks(main){updateSectionsStatus(main);const blocks=[...main.querySelectorAll("div.block")];for(let i=0;i<blocks.length;i+=1)await loadBlock(blocks[i]),updateSectionsStatus(main)}function decorateBlock(block){const shortBlockName=block.classList[0];if(shortBlockName){block.classList.add("block"),block.dataset.blockName=shortBlockName,block.dataset.blockStatus="initialized";block.parentElement.classList.add(`${shortBlockName}-wrapper`);const section=block.closest(".section");section&&section.classList.add(`${shortBlockName}-container`)}}function decorateBlocks(main){main.querySelectorAll("div.section > div > div").forEach(decorateBlock)}async function loadHeader(header){const headerBlock=buildBlock("header","");return header.append(headerBlock),decorateBlock(headerBlock),loadBlock(headerBlock)}async function loadFooter(footer){const footerBlock=buildBlock("footer","");return footer.append(footerBlock),decorateBlock(footerBlock),loadBlock(footerBlock)}async function waitForLCP(lcpBlocks){const block=document.querySelector(".block");block&&lcpBlocks.includes(block.dataset.blockName)&&await loadBlock(block),document.body.style.display=null;const lcpCandidate=document.querySelector("main img");await new Promise((resolve=>{lcpCandidate&&!lcpCandidate.complete?(lcpCandidate.setAttribute("loading","eager"),lcpCandidate.addEventListener("load",resolve),lcpCandidate.addEventListener("error",resolve)):resolve()}))}__webpack_require__.d(__webpack_exports__,{BI:()=>buildBlock,Gv:()=>loadFooter,Pr:()=>decorateSections,f6:()=>sampleRUM,j:()=>loadCSS,kv:()=>decorateBlock,lV:()=>decorateBlocks,nG:()=>loadHeader,qO:()=>decorateTemplateAndTheme,sd:()=>getMetadata,tX:()=>loadBlocks,wK:()=>waitForLCP,zW:()=>toCamelCase,zh:()=>loadBlock}),function init(){!function setup(){window.hlx=window.hlx||{},window.hlx.RUM_MASK_URL="full",window.hlx.codeBasePath="",window.hlx.lighthouse="on"===new URLSearchParams(window.location.search).get("lighthouse");const scriptEl=document.querySelector('script[src$="/scripts/scripts.js"]');if(scriptEl)try{[window.hlx.codeBasePath]=new URL(scriptEl.src).pathname.split("/scripts/scripts.js")}catch(error){console.log(error)}}(),sampleRUM("top"),window.addEventListener("load",(()=>sampleRUM("load"))),window.addEventListener("unhandledrejection",(event=>{sampleRUM("error",{source:event.reason.sourceURL,target:event.reason.line})})),window.addEventListener("error",(event=>{sampleRUM("error",{source:event.filename,target:event.lineno})}))}()},"./scripts/scripts.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{WU:()=>decorateIcons,ij:()=>loadPage,ln:()=>createTag});var _aem_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./scripts/aem.js");const LCP_BLOCKS=["hero"];function createTag(tag,attributes,html){const el=document.createElement(tag);return html&&(html instanceof HTMLElement||html instanceof SVGElement||html instanceof DocumentFragment?el.append(html):Array.isArray(html)?el.append(...html):el.insertAdjacentHTML("beforeend",html)),attributes&&Object.entries(attributes).forEach((([key,val])=>{el.setAttribute(key,val)})),el}async function decorateTemplate(main){const template=(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.sd)("template");template&&"home"!==template&&await async function loadTemplate(main,template){if(template)try{const cssLoaded=new Promise((resolve=>{(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.j)(`${window.hlx.codeBasePath}/templates/${template}/${template}.css`,resolve)})),decorationComplete=new Promise((resolve=>{(async()=>{try{const mod=await __webpack_require__("./templates lazy recursive ^\\.\\/.*\\/.*\\.js$")(`./${template}/${template}.js`);mod.default&&await mod.default(main)}catch(error){console.log(`failed to load module for ${template}`,error)}resolve()})()}));await Promise.all([cssLoaded,decorationComplete])}catch(error){console.log(`failed to load block ${template}`,error)}}(main,template)}function buildAutoBlocks(main){try{const template=(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.sd)("template");if(!template)return;"home"===template&&function build2ColHero(main){const firstDiv=main.querySelector(":scope > div:first-of-type"),picture=firstDiv.querySelector("picture"),section=createTag("div"),heroBlock=(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.BI)("hero",[[{elems:[...firstDiv.children]},picture]]);heroBlock.classList.add("hero-2-cols"),section.append(heroBlock),firstDiv.remove(),main.prepend(section)}(main)}catch(error){console.error("Auto Blocking failed",error)}}function decorateIcons(element=document){element.querySelectorAll("span.icon").forEach((async span=>{if(span.classList.length<2||!span.classList[1].startsWith("icon-"))return;const icon=span.classList[1].substring(5),resp=await fetch(`${window.__STORYBOOK_PREVIEW__?"":window.hlx.codeBasePath}/icons/${icon}.svg`);if(resp.ok){const iconHTML=await resp.text();if(iconHTML.match(/<style/i)){const img=document.createElement("img");img.src=`data:image/svg+xml,${encodeURIComponent(iconHTML)}`,span.appendChild(img)}else span.innerHTML=iconHTML}}))}async function loadEager(doc){document.documentElement.lang="en",(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.qO)(),function loadTheme(){const themeLink=document.getElementById("theme"),theme=localStorage.getItem("theme");theme&&themeLink&&themeLink.setAttribute("href",`${window.hlx.codeBasePath}/styles/themes/${theme}.css`)}();const main=doc.querySelector("main");await decorateTemplate(main),main&&!window.hlx.suppressBlockLoader?(!function decorateMain(main){!function decorateButtons(element){element.querySelectorAll("a").forEach((a=>{if(a.title=a.title||a.textContent,a.href!==a.textContent){const up=a.parentElement,twoup=a.parentElement.parentElement;if(!a.querySelector("img")){if(1!==up.childNodes.length||"P"!==up.tagName&&"DIV"!==up.tagName||(a.className="button primary",up.classList.add("button-container")),1===up.childNodes.length&&"STRONG"===up.tagName&&1===twoup.childNodes.length&&"P"===twoup.tagName&&(a.className="button primary",twoup.classList.add("button-container")),1===up.childNodes.length&&"EM"===up.tagName&&1===twoup.childNodes.length&&"P"===twoup.tagName&&(a.className="button secondary",twoup.classList.add("button-container")),1===up.childNodes.length&&"EM"===up.tagName&&1===twoup.childNodes.length&&"STRONG"===twoup.tagName||1===up.childNodes.length&&"STRONG"===up.tagName&&1===twoup.childNodes.length&&"EM"===twoup.tagName){const threeup=twoup?.parentElement;a.className="button quiet",threeup.classList.add("button-container")}""===a.textContent&&a.classList.add("icon-only")}}}))}(main),buildAutoBlocks(main),(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.Pr)(main),(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.lV)(main)}(main),document.body.classList.add("appear"),await(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.wK)(LCP_BLOCKS)):document.querySelector("body").classList.add("appear")}async function loadLazy(doc){const main=doc.querySelector("main");window.hlx.suppressBlockLoader||await(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.tX)(main),decorateIcons(main);const{hash}=window.location,element=!!hash&&main.querySelector(hash);hash&&element&&element.scrollIntoView(),window.hlx.suppressLoadHeaderFooter?(document.querySelector("header").remove(),document.querySelector("footer").remove()):((0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.nG)(doc.querySelector("header")),(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.Gv)(doc.querySelector("footer"))),(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.j)(`${window.hlx.codeBasePath}/styles/lazy-styles.css`),function addFavIcon(href){const link=createTag("link");link.rel="icon",link.type="image/svg+xml",link.href=href;const existingLink=document.querySelector('head link[rel="icon"]');existingLink?existingLink.parentElement.replaceChild(link,existingLink):document.getElementsByTagName("head")[0].appendChild(link)}(`${window.hlx.codeBasePath}/styles/favicon.svg`),(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.f6)("lazy"),_aem_js__WEBPACK_IMPORTED_MODULE_0__.f6.observe(main.querySelectorAll("div[data-block-name]")),_aem_js__WEBPACK_IMPORTED_MODULE_0__.f6.observe(main.querySelectorAll("picture > img"))}async function loadPage(){window.hlx.suppressLoadHeaderFooter=(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.sd)("suppressloadheaderfooter"),window.hlx.suppressBlockLoader=(0,_aem_js__WEBPACK_IMPORTED_MODULE_0__.sd)("suppressblockloader"),await loadEager(document),await loadLazy(document),function loadDelayed(){window.setTimeout((()=>__webpack_require__.e(2151).then(__webpack_require__.bind(__webpack_require__,"./scripts/delayed.js"))),3e3),window.hlx.performance||window.setTimeout((()=>__webpack_require__.e(2151).then(__webpack_require__.bind(__webpack_require__,"./scripts/delayed.js"))),4e3)}()}if(window.hlx.RUM_GENERATION="project-1",window.__STORYBOOK_PREVIEW__){const{href,search}=window.parent.location;window.hlx.codeBasePath=href.replace(search,"")}else loadPage();new URLSearchParams(window.location.search).get("performance")&&(window.hlx.performance=!0,__webpack_require__.e(4753).then(__webpack_require__.bind(__webpack_require__,"./scripts/performance.js")).then((mod=>{mod.default&&mod.default()})))},"./scripts lazy recursive ^.*\\/blocks\\/.*\\/.*\\.js$":module=>{function webpackEmptyAsyncContext(req){return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}))}webpackEmptyAsyncContext.keys=()=>[],webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id="./scripts lazy recursive ^.*\\/blocks\\/.*\\/.*\\.js$",module.exports=webpackEmptyAsyncContext},"./templates lazy recursive ^\\.\\/.*\\/.*\\.js$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./blog-post/blog-post.js":["./templates/blog-post/blog-post.js",5849],"./hero-image/hero-image.js":["./templates/hero-image/hero-image.js",2923],"./hero-image/hero-image.stories.js":["./templates/hero-image/hero-image.stories.js",1910,6579,6200]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}));var ids=map[req],id=ids[0];return Promise.all(ids.slice(1).map(__webpack_require__.e)).then((()=>__webpack_require__(id)))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id="./templates lazy recursive ^\\.\\/.*\\/.*\\.js$",module.exports=webpackAsyncContext}}]);